<!DOCTYPE html>
<html>
<head>
    <title>Регистрация</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="auth-container">
        <h2>Регистрация</h2>
        <form id="registerForm">
            <input type="text" id="username" placeholder="Придумайте ник" required>
            <input type="password" id="password" placeholder="Придумайте пароль" required>
            <button type="submit" class="btn">Создать аккаунт</button>
        </form>
        <a href="login.html">Уже есть аккаунт? Войти</a>
    </div>

    <script>
        // Функции для пользователей
        function getUsers() {
            const users = localStorage.getItem('users');
            return users ? JSON.parse(users) : {};
        }

        function saveUser(username, password) {
            const users = getUsers();
            
            if (users[username]) {
                return false; // ник занят
            }
            
            users[username] = {
                username: username,
                password: password,
                joined: new Date().toISOString()
            };
            
            localStorage.setItem('users', JSON.stringify(users));
            return true; // успешно
        }

        // Регистрация
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            
            if (username.length < 3) {
                alert('Ник должен быть至少 3 символа!');
                return;
            }
            
            if (password.length < 4) {
                alert('Пароль должен быть至少 4 символа!');
                return;
            }
            
            const success = saveUser(username, password);
            
            if (success) {
                alert('Аккаунт создан! Теперь войдите.');
                window.location.href = 'login.html';
            } else {
                alert('Этот ник уже занят! Придумайте другой.');
            }
        });
    </script>
</body>
</html>