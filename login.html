<!DOCTYPE html>
<html>
<head>
    <title>–í—Ö–æ–¥ - MySocialNet</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="auth-container">
        <div class="auth-header">
            <h1>üê¨ MySocialNet</h1>
            <p>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É!</p>
        </div>

        <div class="auth-form">
            <h2>üîê –í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h2>
            <form id="loginForm">
                <input type="text" id="username" placeholder="üë§ –í–∞—à username" required>
                <input type="password" id="password" placeholder="üîí –í–∞—à –ø–∞—Ä–æ–ª—å" required>
                <button type="submit" class="btn btn-large">üöÄ –í–æ–π—Ç–∏</button>
            </form>

            <div class="auth-features">
                <div class="feature">‚úÖ –ï–¥–∏–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</div>
                <div class="feature">üí¨ –†–µ–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö</div>
                <div class="feature">üë• –ù–∞—Å—Ç–æ—è—â–∏–µ –¥—Ä—É–∑—å—è</div>
                <div class="feature">üì± Supabase powered</div>
            </div>

            <div class="auth-links">
                <a href="register.html">üìù –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a>
                <a href="#" onclick="showForgotPassword()">üîê –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
            </div>
        </div>
    </div>

    <script type="module">
        import { authAPI } from './supabase.js'

        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault()
            
            const username = document.getElementById('username').value
            const password = document.getElementById('password').value
            
            try {
                const user = await authAPI.signIn(username, password)
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
                localStorage.setItem('currentUser', user.username)
                
                alert('‚úÖ –í—Ö–æ–¥ —É—Å–ø–µ—à–µ–Ω!')
                window.location.href = 'index.html'
            } catch (error) {
                alert('‚ùå –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ' + error.message)
            }
        })

        function showForgotPassword() {
            alert('üîê –§—É–Ω–∫—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!')
        }
    </script>
</body>
</html>
